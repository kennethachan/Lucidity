{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import bike from\"../gifs/bike.gif\";import breezy from\"../gifs/breezy-night.gif\";import commute from\"../gifs/commute.gif\";import creamer from\"../gifs/creamer.gif\";import crescent from\"../gifs/crescent-moon.gif\";import flowers from\"../gifs/flowers.gif\";import mirror from\"../gifs/mirror.gif\";import night from\"../gifs/night -ide.gif\";import nightdrive from\"../gifs/night-drive.gif\";import rose from\"../gifs/rose.gif\";import shoe from\"../gifs/shoe.gif\";import shoetwo from\"../gifs/shoe2.gif\";import tea from\"../gifs/tea.gif\";import nails from\"../gifs/nails.gif\";import beach from\"../gifs/beach.gif\";import coke from\"../gifs/coke.gif\";import tie from\"../gifs/tie.gif\";import typing from\"../gifs/typing.gif\";import drink from\"../gifs/drink.gif\";import cat from\"../gifs/cat.gif\";import lips from\"../gifs/lips.gif\";import coding from\"../gifs/coding.gif\";import bebop from\"../gifs/bebop.gif\";import stars from\"../gifs/stars.gif\";import char from\"../gifs/char.gif\";//imported GIFs to ease manipulation\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API=\"http://localhost:3001\";// *Referenced a youtube video to learn how to create a slideshow*\nvar GifsSlideShow=function GifsSlideShow(_ref){var imgs=_ref.imgs;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),GIFIndex=_useState2[0],setGIFIndex=_useState2[1];//Ensures that the index starts at 0\nuseEffect(function(){setGIFIndex(0);},[]);//If image index is at the end of the array we set it back to the first\n//else we add 1 to the index, sliding to the next image\nvar nextGIF=function nextGIF(){if(GIFIndex===imgs.length-1){setGIFIndex(0);}else{setGIFIndex(GIFIndex+1);}};//If image index is at the beginning of the array we subtract 1, sliding to the previous image\n//else subtract 1 to the index, sliding to the previous image.\nvar prevGIF=function prevGIF(){if(GIFIndex===0){setGIFIndex(imgs.length-1);}else{setGIFIndex(GIFIndex-1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"slideshow\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mainImg\",src:imgs[GIFIndex]}),/*#__PURE__*/_jsxs(\"div\",{className:\"arrows\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"left-arrow\",onClick:prevGIF,children:\"\\u25C0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"right-arrow\",onClick:nextGIF,children:\"\\u25B6\"})]})]});};//Site has hardcoded GIFs to choose from, Post MVP idea was to let the User add/delete additional GIFs\nfunction GIFs(props){var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),URL=_useState4[0],setURL=_useState4[1];//new GIF links will be set here\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),addedImg=_useState6[0],setAddedImg=_useState6[1];//When GIFs are remapped after adding a GIF, Data of that new GIF will be set here\nvar _useState7=useState([//hardcoded GIFs set here.  Hardcoded GIFs and new GIFs are concatenated here.\ncoding,cat,lips,bebop,stars,char,bike,breezy,commute,creamer,crescent,flowers,mirror,night,nightdrive,rose,shoe,shoetwo,tea,nails,beach,coke,tie,typing,drink]),_useState8=_slicedToArray(_useState7,2),allImgs=_useState8[0],setAllImgs=_useState8[1];useEffect(function(){getImages();},[]);//setAllImgs concatenates hardcoded GIFs and addedGIFs\n//URL input is reset afterwards to let the user add another GIF\nvar getImages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,imgURLs;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(API,\"/get-image\"));case 2:res=_context.sent;imgURLs=res.data.images.map(function(img){return img.URL;});setAllImgs([].concat(_toConsumableArray(allImgs),_toConsumableArray(imgURLs)));setAddedImg(res.data.images);setURL(\"\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function getImages(){return _ref2.apply(this,arguments);};}();//setAllImgs concatenates hardcoded GIFs and addedGIFs\n//New GIF is moved to the top of the array\n//GIFs are remapped\nvar addImage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return axios.post(\"\".concat(API,\"/new-image\"),{URL:URL}).then(function(res){setAllImgs([URL].concat(_toConsumableArray(allImgs)));allImgs.unshift(URL);setURL(\"\");getImages();});case 4:res=_context2.sent;_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);alert(\"Please use a different GIF\");case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function addImage(_x){return _ref3.apply(this,arguments);};}();//Added GIF will be removed starting from the top of the array\n//States are reset to allow the user to add a new GIF\nvar deleteImage=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_id){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(API,\"/delete-image/\").concat(_id)).then(function(res){allImgs.shift();allImgs.pop();setURL(\"\");setAddedImg([]);getImages();}).catch(function(error){return console.log(error);});case 2:res=_context3.sent;case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteImage(_x2){return _ref4.apply(this,arguments);};}();//Form is used to submit and trigger add function, passing the input value\n//A button is used to trigger delete function, deleting the new GIF starting from the stop/most recently added GIF\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(GifsSlideShow,{imgs:allImgs}),/*#__PURE__*/_jsxs(\"form\",{className:\"GIF-form\",onSubmit:function onSubmit(e){return addImage(e);},children:[/*#__PURE__*/_jsx(\"input\",{className:\"url-address\",type:\"text\",value:URL,placeholder:\"  Paste GIF Image Address\",onChange:function onChange(e){return setURL(e.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"addgif-btn\",type:\"submit\",children:\"add\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"deletegif-btn\",onClick:function onClick(){return deleteImage(addedImg[0]._id);},children:\"delete\"})]});}export default GIFs;","map":{"version":3,"names":["React","useEffect","useState","axios","bike","breezy","commute","creamer","crescent","flowers","mirror","night","nightdrive","rose","shoe","shoetwo","tea","nails","beach","coke","tie","typing","drink","cat","lips","coding","bebop","stars","char","API","GifsSlideShow","imgs","GIFIndex","setGIFIndex","nextGIF","length","prevGIF","GIFs","props","URL","setURL","addedImg","setAddedImg","allImgs","setAllImgs","getImages","get","res","imgURLs","data","images","map","img","addImage","e","preventDefault","post","then","unshift","alert","deleteImage","_id","delete","shift","pop","catch","error","console","log","target","value"],"sources":["/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/src/components/GIFs.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport axios from \"axios\"\nimport bike from \"../gifs/bike.gif\"\nimport breezy from \"../gifs/breezy-night.gif\"\nimport commute from \"../gifs/commute.gif\"\nimport creamer from \"../gifs/creamer.gif\"\nimport crescent from \"../gifs/crescent-moon.gif\"\nimport flowers from \"../gifs/flowers.gif\"\nimport mirror from \"../gifs/mirror.gif\"\nimport night from \"../gifs/night -ide.gif\"\nimport nightdrive from \"../gifs/night-drive.gif\"\nimport rose from \"../gifs/rose.gif\"\nimport shoe from \"../gifs/shoe.gif\"\nimport shoetwo from \"../gifs/shoe2.gif\"\nimport tea from \"../gifs/tea.gif\"\nimport nails from \"../gifs/nails.gif\"\nimport beach from \"../gifs/beach.gif\"\nimport coke from \"../gifs/coke.gif\"\nimport tie from \"../gifs/tie.gif\"\nimport typing from \"../gifs/typing.gif\"\nimport drink from \"../gifs/drink.gif\"\nimport cat from \"../gifs/cat.gif\"\nimport lips from \"../gifs/lips.gif\"\nimport coding from \"../gifs/coding.gif\"\nimport bebop from \"../gifs/bebop.gif\"\nimport stars from \"../gifs/stars.gif\"\nimport char from \"../gifs/char.gif\"\n//imported GIFs to ease manipulation\n\nconst API = \"http://localhost:3001\"\n\n// *Referenced a youtube video to learn how to create a slideshow*\nconst GifsSlideShow = ({ imgs }) => {\n  const [GIFIndex, setGIFIndex] = useState(0)\n\n  //Ensures that the index starts at 0\n  useEffect(() => {\n    setGIFIndex(0)\n  }, [])\n\n  //If image index is at the end of the array we set it back to the first\n  //else we add 1 to the index, sliding to the next image\n  const nextGIF = () => {\n    if (GIFIndex === imgs.length - 1) {\n      setGIFIndex(0)\n    } else {\n      setGIFIndex(GIFIndex + 1)\n    }\n  }\n\n  //If image index is at the beginning of the array we subtract 1, sliding to the previous image\n  //else subtract 1 to the index, sliding to the previous image.\n  const prevGIF = () => {\n    if (GIFIndex === 0) {\n      setGIFIndex(imgs.length - 1)\n    } else {\n      setGIFIndex(GIFIndex - 1)\n    }\n  }\n\n  return (\n    <div className=\"slideshow\">\n      <img className=\"mainImg\" src={imgs[GIFIndex]}></img>\n      <div className=\"arrows\">\n        <button className=\"left-arrow\" onClick={prevGIF}>\n          ◀\n        </button>\n        <button className=\"right-arrow\" onClick={nextGIF}>\n          ▶\n        </button>\n      </div>\n    </div>\n  )\n}\n\n//Site has hardcoded GIFs to choose from, Post MVP idea was to let the User add/delete additional GIFs\nfunction GIFs(props) {\n  const [URL, setURL] = useState(\"\") //new GIF links will be set here\n  const [addedImg, setAddedImg] = useState(\"\") //When GIFs are remapped after adding a GIF, Data of that new GIF will be set here\n  const [allImgs, setAllImgs] = useState([\n    //hardcoded GIFs set here.  Hardcoded GIFs and new GIFs are concatenated here.\n    coding,\n    cat,\n    lips,\n    bebop,\n    stars,\n    char,\n    bike,\n    breezy,\n    commute,\n    creamer,\n    crescent,\n    flowers,\n    mirror,\n    night,\n    nightdrive,\n    rose,\n    shoe,\n    shoetwo,\n    tea,\n    nails,\n    beach,\n    coke,\n    tie,\n    typing,\n    drink,\n  ])\n\n  useEffect(() => {\n    getImages()\n  }, [])\n\n  //setAllImgs concatenates hardcoded GIFs and addedGIFs\n  //URL input is reset afterwards to let the user add another GIF\n  const getImages = async () => {\n    const res = await axios.get(`${API}/get-image`)\n    const imgURLs = res.data.images.map((img) => img.URL)\n    setAllImgs([...allImgs, ...imgURLs])\n    setAddedImg(res.data.images)\n    setURL(\"\")\n  }\n\n  //setAllImgs concatenates hardcoded GIFs and addedGIFs\n  //New GIF is moved to the top of the array\n  //GIFs are remapped\n  const addImage = async (e) => {\n    e.preventDefault()\n    try {\n      const res = await axios.post(`${API}/new-image`, { URL }).then((res) => {\n        setAllImgs([URL, ...allImgs])\n        allImgs.unshift(URL)\n        setURL(\"\")\n        getImages()\n      })\n    } catch (error) {\n      alert(\"Please use a different GIF\")\n    }\n  }\n\n  //Added GIF will be removed starting from the top of the array\n  //States are reset to allow the user to add a new GIF\n  const deleteImage = async (_id) => {\n    const res = await axios\n      .delete(`${API}/delete-image/${_id}`)\n      .then((res) => {\n        allImgs.shift()\n        allImgs.pop()\n        setURL(\"\")\n        setAddedImg([])\n        getImages()\n      })\n      .catch((error) => console.log(error))\n  }\n\n  //Form is used to submit and trigger add function, passing the input value\n  //A button is used to trigger delete function, deleting the new GIF starting from the stop/most recently added GIF\n  return (\n    <div>\n      <GifsSlideShow imgs={allImgs} />\n      <form className=\"GIF-form\" onSubmit={(e) => addImage(e)}>\n        <input\n          className=\"url-address\"\n          type=\"text\"\n          value={URL}\n          placeholder=\"  Paste GIF Image Address\"\n          onChange={(e) => setURL(e.target.value)}\n        ></input>{\" \"}\n        <br />\n        <button className=\"addgif-btn\" type=\"submit\">\n          add\n        </button>\n      </form>\n      <button\n        className=\"deletegif-btn\"\n        onClick={() => deleteImage(addedImg[0]._id)}\n      >\n        delete\n      </button>\n    </div>\n  )\n}\n\nexport default GIFs\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}