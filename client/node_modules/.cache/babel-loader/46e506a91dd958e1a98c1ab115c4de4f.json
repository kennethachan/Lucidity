{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(props){var image=require(\"../gifs/shoe.gif\");//background image\nvar URL=\"http://localhost:3001\";var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),changePage=_useState6[0],setChangePage=_useState6[1];//Will trigger navigate when true\n//When user submits email and password, page is redirected back to the login page\n//If duplicate email exists send an alert\nvar register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"\".concat(URL,\"/new-user\"),{email:email,password:password}).then(function(res){setChangePage(true);setEmail(\"\");setPassword(\"\");navigate(\"/\");});case 4:res=_context.sent;if(changePage){navigate(\"/\");}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(\"Email already exists\");setChangePage(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function register(_x){return _ref.apply(this,arguments);};}();//Form is used to grab values of email and password input when submitted with a button and triggers register function\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"landing-background\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"register-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"landing-logo\",children:\"Lucidity\"}),/*#__PURE__*/_jsx(Link,{className:\"nav\",to:\"/\",children:\"back to login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"landing-image\",src:image}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-background\",onSubmit:function onSubmit(e){return register(e);},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"email-input\",type:\"email\",name:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"password-input\",type:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-btn\",children:\"Register\"})]})]})]});}export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","Register","props","image","require","URL","navigate","email","setEmail","password","setPassword","changePage","setChangePage","register","e","preventDefault","post","then","res","alert","target","value"],"sources":["/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/src/pages/Register.js"],"sourcesContent":["import React from \"react\"\nimport { useState } from \"react\"\nimport axios from \"axios\"\nimport { useNavigate } from \"react-router-dom\"\nimport { Link } from \"react-router-dom\"\n\nfunction Register(props) {\n  const image = require(\"../gifs/shoe.gif\") //background image\n  const URL = \"http://localhost:3001\"\n  let navigate = useNavigate()\n\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [changePage, setChangePage] = useState(false) //Will trigger navigate when true\n\n  //When user submits email and password, page is redirected back to the login page\n  //If duplicate email exists send an alert\n  const register = async (e) => {\n    e.preventDefault()\n    try {\n      const res = await axios\n        .post(`${URL}/new-user`, { email, password })\n        .then((res) => {\n          setChangePage(true)\n          setEmail(\"\")\n          setPassword(\"\")\n          navigate(\"/\")\n        })\n      if (changePage) {\n        navigate(\"/\")\n      }\n    } catch (error) {\n      alert(\"Email already exists\")\n      setChangePage(false)\n    }\n  }\n\n  //Form is used to grab values of email and password input when submitted with a button and triggers register function\n  return (\n    <div className=\"landing-background\">\n      <div className=\"register-header\">\n        <h1 className=\"landing-logo\">Lucidity</h1>\n        <Link className=\"nav\" to=\"/\">\n          back to login\n        </Link>\n      </div>\n      <div className=\"login-container\">\n        <img className=\"landing-image\" src={image}></img>\n        <form className=\"login-background\" onSubmit={(e) => register(e)}>\n          <h3 className=\"email\">Email</h3>\n          <input\n            className=\"email-input\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></input>\n          <br />\n          <h3 className=\"password\">Password</h3>\n          <input\n            className=\"password-input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></input>\n          <br />\n          <button type=\"submit\" className=\"register-btn\">\n            Register\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\nexport default Register\n"],"mappings":"2aAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,QAASC,SAAT,CAAkBC,KAAlB,CAAyB,CACvB,GAAMC,MAAK,CAAGC,OAAO,CAAC,kBAAD,CAArB,CAA0C;AAC1C,GAAMC,IAAG,CAAG,uBAAZ,CACA,GAAIC,SAAQ,CAAGP,WAAW,EAA1B,CAEA,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAoCb,QAAQ,CAAC,KAAD,CAA5C,yCAAOc,UAAP,eAAmBC,aAAnB,eAAoD;AAEpD;AACA;AACA,GAAMC,SAAQ,4FAAG,iBAAOC,CAAP,4HACfA,CAAC,CAACC,cAAF,GADe,sCAGKjB,MAAK,CACpBkB,IADe,WACPX,GADO,cACS,CAAEE,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CADT,EAEfQ,IAFe,CAEV,SAACC,GAAD,CAAS,CACbN,aAAa,CAAC,IAAD,CAAb,CACAJ,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACAJ,QAAQ,CAAC,GAAD,CAAR,CACD,CAPe,CAHL,QAGPY,GAHO,eAWb,GAAIP,UAAJ,CAAgB,CACdL,QAAQ,CAAC,GAAD,CAAR,CACD,CAbY,+EAeba,KAAK,CAAC,sBAAD,CAAL,CACAP,aAAa,CAAC,KAAD,CAAb,CAhBa,oEAAH,kBAARC,SAAQ,4CAAd,CAoBA;AACA,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,WAAI,SAAS,CAAC,cAAd,sBADF,cAEE,KAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,CAAsB,EAAE,CAAC,GAAzB,2BAFF,GADF,cAOE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEV,KAApC,EADF,cAEE,cAAM,SAAS,CAAC,kBAAhB,CAAmC,QAAQ,CAAE,kBAACW,CAAD,QAAOD,SAAQ,CAACC,CAAD,CAAf,EAA7C,wBACE,WAAI,SAAS,CAAC,OAAd,mBADF,cAEE,cACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,OAJd,CAKE,KAAK,CAAEP,KALT,CAME,QAAQ,CAAE,kBAACO,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACM,MAAF,CAASC,KAAV,CAAf,EANZ,EAFF,cAUE,aAVF,cAWE,WAAI,SAAS,CAAC,UAAd,sBAXF,cAYE,cACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,UAJd,CAKE,KAAK,CAAEZ,QALT,CAME,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,YAAW,CAACI,CAAC,CAACM,MAAF,CAASC,KAAV,CAAlB,EANZ,EAZF,cAoBE,aApBF,cAqBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,sBArBF,GAFF,GAPF,GADF,CAsCD,CACD,cAAepB,SAAf"},"metadata":{},"sourceType":"module"}