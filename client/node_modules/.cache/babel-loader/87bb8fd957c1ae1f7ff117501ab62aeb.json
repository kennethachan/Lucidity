{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Landing(props){var image=require(\"../gifs/mirror.gif\");//background image\nvar URL=\"http://localhost:3001\";var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allData=_useState6[0],setAllData=_useState6[1];//If email & password input value matches email and password in database pass, navigate to home page\n//If password does not match send an alert\n//input values are set in state and used to complete the URL to find user\nvar login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.get(\"\".concat(URL,\"/get-users/\")).then(function(res){console.log(res.data.users);setAllData(res.data.users);var userEmail=allData.filter(function(data){return data.email===email;});var userPassword=allData.filter(function(data){return data.password===password;});console.log(userEmail[0].email);console.log(userPassword[0].password);if(email===userEmail[0].email&&password===userPassword[0].password){setEmail(\"\");setPassword(\"\");navigate(\"/home\");}else{alert(\"Incorrect email or password\");}});case 3:res=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return function login(_x){return _ref.apply(this,arguments);};}();//Form is used to grab values of email and password input when submitted with a button and triggers login function\n//If the user does not have an account they can click \"register\" which is linked to the register page\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"landing-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"App-header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"landing-logo\",children:\"Lucidity\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"landing-image\",src:image}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-background\",onSubmit:function onSubmit(e){return login(e);},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"email-input\",type:\"email\",placeholder:\"Email Address\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"password-input\",type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"register-btn\",children:/*#__PURE__*/_jsx(Link,{className:\"register-btn\",to:\"/register\",children:\"Register\"})})]})]})]});}export default Landing;","map":{"version":3,"names":["React","Link","useState","axios","useNavigate","Landing","props","image","require","URL","navigate","email","setEmail","password","setPassword","allData","setAllData","login","e","preventDefault","get","then","res","console","log","data","users","userEmail","filter","userPassword","alert","target","value"],"sources":["/Users/kennethchan/Desktop/GA/unit2/Lucidity/client/src/pages/Landing.js"],"sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useState } from \"react\"\nimport axios from \"axios\"\nimport { useNavigate } from \"react-router-dom\"\n\nfunction Landing(props) {\n  const image = require(\"../gifs/mirror.gif\") //background image\n  const URL = \"http://localhost:3001\"\n  let navigate = useNavigate()\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [allData, setAllData] = useState([])\n\n  //If email & password input value matches email and password in database pass, navigate to home page\n  //If password does not match send an alert\n  //input values are set in state and used to complete the URL to find user\n\n  const login = async (e) => {\n    e.preventDefault()\n    const res = await axios.get(`${URL}/get-users/`).then((res) => {\n      console.log(res.data.users)\n\n      setAllData(res.data.users)\n\n      const userEmail = allData.filter((data) => data.email === email)\n      const userPassword = allData.filter((data) => data.password === password)\n\n      console.log(userEmail[0].email)\n      console.log(userPassword[0].password)\n\n      if (\n        email === userEmail[0].email &&\n        password === userPassword[0].password\n      ) {\n        setEmail(\"\")\n        setPassword(\"\")\n        navigate(\"/home\")\n      } else {\n        alert(\"Incorrect email or password\")\n      }\n    })\n  }\n\n  //Form is used to grab values of email and password input when submitted with a button and triggers login function\n  //If the user does not have an account they can click \"register\" which is linked to the register page\n  return (\n    <div className=\"landing-background\">\n      <div className=\"App-header\">\n        <h1 className=\"landing-logo\">Lucidity</h1>\n      </div>\n      <div className=\"login-container\">\n        <img className=\"landing-image\" src={image}></img>\n        <form className=\"login-background\" onSubmit={(e) => login(e)}>\n          <h3 className=\"email\">Email</h3>\n          <input\n            className=\"email-input\"\n            type=\"email\"\n            placeholder=\"Email Address\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></input>{\" \"}\n          <br />\n          <h3 className=\"password\">Password</h3>\n          <input\n            className=\"password-input\"\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></input>{\" \"}\n          <br />\n          <button className=\"login-btn\">Login</button>\n          <button className=\"register-btn\">\n            <Link className=\"register-btn\" to=\"/register\">\n              Register\n            </Link>\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Landing\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}